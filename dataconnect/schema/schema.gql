
type Movie @table(name: "movies") {
  id: String! @pk
  title: String
  genre: String
  imageUrl: String
  metadata: MovieMetadata @embedded
  reviews: [Review]! @relation(through: "reviews", from: "movieId", to: "userId")
}

type MovieMetadata {
  releaseYear: Int
  rating: Float
  description: String
}

type User @table(name: "users") {
  id: String! @pk
  username: String
  reviews: [Review]! @relation(through: "reviews", from: "userId", to: "movieId")
}

type Review @table(name: "reviews") {
  userId: String! @pk
  movieId: String! @pk
  reviewText: String
  rating: Int
  reviewDate: Timestamp
}
