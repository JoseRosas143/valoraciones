
type Movie @table(name: "movies") {
  id: UUID! @primaryKey
  title: String!
  year: Int
  genres: [String]
  imageUrl: String
  reviews: [Review] @relation(on: "movieId")
}

type User @table(name: "users") {
  id: UUID! @primaryKey
  username: String!
  reviews: [Review] @relation(on: "userId")
}

type Review @table(name: "reviews") {
  movieId: UUID!
  userId: UUID!
  rating: Int
  reviewText: String
  createdAt: Timestamp
  movie: Movie @relation(from: "movieId")
  user: User @relation(from: "userId")
}

extend type Query {
  movies(movieId: UUID): [Movie]
  users(userId: UUID): [User]
}
