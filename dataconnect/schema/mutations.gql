mutation CreateMovie($title: String!, $genre: String!, $imageUrl: String!) {
  movie_insert(data: {
    id: "?", # Let the database handle the ID generation if possible, or provide one
    title: $title,
    genre: $genre,
    imageUrl: $imageUrl
  })
}

mutation UpsertUser($username: String!) {
  user_upsert(data: {
    id: "?", # Needs a user ID, often from auth
    username: $username
  })
}

mutation AddReview($movieId: String!, $rating: Int!, $reviewText: String!) {
  review_upsert(data: {
    userId: "?", # Needs the current user's ID
    movieId: $movieId,
    rating: $rating,
    reviewText: $reviewText,
    reviewDate: "?" # Should be set to current time
  })
}

mutation DeleteReview($movieId: String!) {
  review_delete(filter: {
    userId: { eq: "?" }, # Needs the current user's ID
    movieId: { eq: $movieId }
  })
}
