mutation CreateMovie($title: String!, $genre: String, $imageUrl: String) {
  movie_insert(
    data: { id: "uuid()", title: $title, genre: $genre, imageUrl: $imageUrl }
  ) {
    id
  }
}

mutation UpsertUser($username: String!) {
  user_upsert(data: { username: $username }) {
    id
  }
}

mutation AddReview($movieId: String!, $rating: Int, $reviewText: String) {
  review_upsert(data: { movieId: $movieId, rating: $rating, reviewText: $reviewText }) {
    userId
    movieId
  }
}

mutation DeleteReview($movieId: String!) {
  review_delete(filter: { movieId: { eq: $movieId } }) {
    userId
    movieId
  }
}
